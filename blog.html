<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Blog</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .blog-post {
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .blog-post h3 {
            margin: 0 0 5px 0;
        }
        .blog-post a {
            text-decoration: none;
            color: #007BFF;
        }
        .blog-post a:hover {
            text-decoration: underline;
        }
        .blog-post em {
            color: #555;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

<h1>My Blog</h1>
<div id="blog-container">
    Loading blog posts...
</div>

<script>
// URL of your GitHub-hosted feed
const feedUrl = 'https://raw.githubusercontent.com/aravindthoomu/aravindthoomu.github.io/main/Fetch.xml';

// Fetch the XML file
fetch(feedUrl)
  .then(response => response.text())
  .then(str => {
    const parser = new DOMParser();
    const xml = parser.parseFromString(str, "application/xml");

    const items = xml.querySelectorAll("item");
    const container = document.getElementById("blog-container");
    container.innerHTML = '';

    // Only show the latest 5 posts
    items.forEach((item, index) => {
        if(index >= 5) return;

        const title = item.querySelector("title").textContent;
        const link = item.querySelector("link").textContent;
        const pubDate = item.querySelector("pubDate").textContent;
        const description = item.querySelector("description").textContent;

        const postHTML = `
            <div class="blog-post">
                <h3><a href="${link}" target="_blank">${title}</a></h3>
                <p><em>${pubDate}</em></p>
                <p>${description}</p>
            </div>
        `;

        container.innerHTML += postHTML;
    });
  })
  .catch(error => {
      console.error("Error fetching feed:", error);
      document.getElementById("blog-container").innerHTML = "<p>Failed to load blog posts.</p>";
  });
</script>

</body>
</html>
