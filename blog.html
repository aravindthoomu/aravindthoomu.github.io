<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Blog</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .blog-post { border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,.05); }
        .blog-post h3 { margin: 0 0 5px 0; }
        .blog-post a { text-decoration: none; color: #007BFF; }
        .blog-post a:hover { text-decoration: underline; }
        .blog-post em { color: #555; font-size: 0.9em; }
    </style>
</head>
<body>
    <h1>My Blog</h1>
    <div id="blog-container">Loading blog posts...</div>
    <script>
        fetch('Fetch.xml')
            .then(response => {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.text();
            })
            .then(str => {
                const parser = new DOMParser();
                const xml = parser.parseFromString(str, "application/xml");
                const items = xml.querySelectorAll("item");
                const container = document.getElementById("blog-container");
                if (items.length === 0) {
                    container.innerHTML = "<p>No blog posts found.</p>";
                    return;
                }
                container.innerHTML = "";
                items.forEach((item, index) => {
                    if(index === 5) return; // only latest 5 posts
                    const title = item.querySelector("title") ? item.querySelector("title").textContent : "No Title";
                    const link = item.querySelector("link") ? item.querySelector("link").textContent : "#";
                    const pubDate = item.querySelector("pubDate") ? item.querySelector("pubDate").textContent : "";
                    const description = item.querySelector("description") ? item.querySelector("description").textContent : "";
                    const postHTML =
                        `<div class="blog-post">
                            <h3><a href="${link}" target="_blank">${title}</a></h3>
                            <p><em>${pubDate}</em></p>
                            <p>${description}</p>
                        </div>`;
                    container.innerHTML += postHTML;
                });
            })
            .catch(error => {
                document.getElementById("blog-container").innerHTML = "<p>Failed to load blog posts.</p>";
            });
    </script>
</body>
</html>
